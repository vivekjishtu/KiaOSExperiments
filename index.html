<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>KiaOS Experiments</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
	   section button {
		width: 100%;   
		font-size: 24pt;
	    }
	    
	    section {
		margin-bottom: 10px;    
	    }
    </style>
</head>
  <body>
     <main>
      <section>
        <button id="launchHotSpot">Hotspot</button>
      </section>
      <section>
        <button id="launchDeveloperMode">Developer Mode</button>
      </section>
      <section>
        <button id="launchTest">Testing</button>
      </section>
    </main>
    <script>
      function testFun() {
        var masterExt = navigator.engmodeExtension || navigator.jrdExtension || navigator.kaiosExtension;
	   
	  try {
         //   var port = masterExt.getPropertyValue('service.adb.tcp.port');
          //  alert("Port: " + port);
		  
		let executor = masterExt.startUniversalCommand('ls', true)
		executor.onsuccess = function(){ alert("Success");/*your success handler*/}
		executor.onerror = function(){ alert("Error"); /*your error handler*/}
	  }
          catch(e) {
            alert(e)
          }
        //alert(masterExt);
      }
      
      document.getElementById('launchTest').addEventListener('click', function() {
         testFun("ls");
      }, false);
	    
      document.getElementById('launchDeveloperMode').addEventListener('click', function() {
         if(window.MozActivity) {
            var act = new MozActivity({
              name: "configure",
              data: {
                target: "device",
                section: "developer"
              }
            });
            
            console.log(act);
          } else {
           window.alert('Open the page from the device.')
         }
      }, false);
      
      document.getElementById('launchHotSpot').addEventListener('click', function(e)      {
        if(window.MozActivity) {
          var act = new MozActivity({
            name: "configure",
            data: {
              target: "device",
              section: "hotspot"
            }
          });
          console.log(act);
        } else {
          window.alert('Open the page from the device.')
        }
      }, false)
    </script>

</body>
</html>
